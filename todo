todo
1. Go threw the code and refactor again
2. Write net code

